{"version":3,"file":"install.mjs","sources":["../src/install.ts"],"sourcesContent":["import { syncUniforms } from './syncUniforms';\n\nimport type { ShaderSystem, Program, UniformGroup } from 'pixijs/core';\n\ninterface PIXICore\n{\n    ShaderSystem: typeof ShaderSystem;\n}\n\nexport function install({ ShaderSystem }: PIXICore): void\n{\n    if (!ShaderSystem)\n    {\n        throw new Error('Unable to patch ShaderSystem, class not found.');\n    }\n\n    Object.assign(ShaderSystem.prototype,\n        {\n            systemCheck()\n            {\n            // do nothing, don't throw error\n            },\n            syncUniforms(group: UniformGroup, glProgram: Program)\n            {\n                const { shader, renderer } = (this as any);\n\n                /* eslint-disable max-len */\n                syncUniforms(\n                    group,\n                    shader.program.uniformData,\n                    glProgram.uniformData,\n                    group.uniforms,\n                    renderer\n                );\n            /* eslint-disable max-len */\n            },\n        }\n    );\n}\n"],"names":[],"mappings":";;AASO,SAAA,OAAA,CAAiB,EAAE,YAC1B,EAAA,EAAA;AACI,EAAA,IAAI,CAAC,YACL,EAAA;AACI,IAAM,MAAA,IAAI,MAAM,gDAAgD,CAAA,CAAA;AAAA,GACpE;AAEA,EAAO,MAAA,CAAA,MAAA,CAAO,aAAa,SACvB,EAAA;AAAA,IACI,WACA,GAAA;AAAA,KAEA;AAAA,IACA,YAAA,CAAa,OAAqB,SAClC,EAAA;AACI,MAAM,MAAA,EAAE,QAAQ,QAAc,EAAA,GAAA,IAAA,CAAA;AAG9B,MACI,YAAA,CAAA,KAAA,EACA,OAAO,OAAQ,CAAA,WAAA,EACf,UAAU,WACV,EAAA,KAAA,CAAM,UACN,QACJ,CAAA,CAAA;AAAA,KAEJ;AAAA,GAER,CAAA,CAAA;AACJ;;;;"}